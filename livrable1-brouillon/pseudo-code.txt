Nom: standalone.exe
Principe: Produire des fichiers standalone.js contenant la position des pions et le score
Entrées: Coup joués J (jaune) puis R (rouge)
Sorties: Un fichier standalone.js contenant la position et le score en format JSON

Début

dbg <- false // mode debug
gagnee <- false // si la partie est gagnée
trait <- 0 // 0 pour J, 1 pour R

coupOrigine : octet
coupDestination : octet

plateau : T_Position
coupPossible : T_listeCoups
score : T_Score

plateau <- getPositionInitiale() //initialisation de la partie

// répéter tant que personne n'a gagnée la partie
tant que (!gagnee) faire
	// affichage la couleur a jouer
	Afficher("Au tour des " (trait) ? "rouge" : "jaune")

	// récupérer l'origine et destination de la pile à déplacer
	Afficher("Position pile à déplacer: ")
	coupOrigine <- Lire()
	Afficher("Destination pile à déplacer: ")
	coupDestination <- Lire()
	plateau <- jouerCoup(plateau, coupOrigine, coupDestination)

	// mettre à jour le score
	score <- evaluerScore(plateau)

	// change le trait
	trait <- (trait) ? 0 : 1

	// enregistrer le déplacement dans le fichier standalone.js
	historique.json //creation du fichier
	ecriture	(	"traiterJson({
					"trait":trait
					"scoreJ":score.nbJ
					"scoreJ5":nbJ5
					"scoreR":nbR
					"scoreR5":nbR5
					"cols":["
					Pour i allant de 1 a NBCASE faire
						"{"nb":i,"couleur":trait}"
					Fin_Pour
					"]
					});"
					)

	// terminer la partie si un joueur a gagné
	coupPossible <- getCoupsLegaux(plateau)
	si (coupPossible.nb == 0) alors
		gagne <- vrai
	fin si

fin tant que

Fin
